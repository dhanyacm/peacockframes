<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Image Gallery</title>
  <!-- Include lightgallery and its dependencies -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css">
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js"></script>
</head>
<body>

<div class="row" id="lightgallery"></div>

<script>
  // Replace 'images' with the path to your image directory
  const imageDirectory = 'images';

  // Function to fetch images and display them using lightbox
  async function fetchAndDisplayImages() {
    try {
      const response = await fetch(imageDirectory);
      const imageList = await response.json();

      const lightGallery = $('#lightgallery');

      imageList.forEach((image, index) => {
        const item = $('<div>').addClass('col-sm-6 col-md-4 col-lg-3 col-xl-3 item');
        item.attr('data-aos', 'fade');
        item.attr('data-src', `${imageDirectory}/${image}`);
        item.attr('data-sub-html', `<h4>Image ${index + 1}</h4><p>Description for Image ${index + 1}</p>`);

        const anchor = $('<a>').attr('href', `#${image}`);
        const img = $('<img>').attr('src', `${imageDirectory}/${image}`).attr('alt', `Image ${index + 1}`).addClass('img-fluid');

        anchor.append(img);
        item.append(anchor);
        lightGallery.append(item);
      });

      // Initialize lightgallery after dynamically adding items
      lightGallery.lightGallery();
    } catch (error) {
      console.error('Error during fetchAndDisplayImages:', error);
    }
  }

  // Start the process
  fetchAndDisplayImages();
</script>

</body>
</html>
